# Guide
A guide for first time users of Rocketswap which covers all the core functionality of the application in easy to follow steps.  

## What do I need to use Rocketswap ?

To use [Rocketswap](https://.rocketswap.exchange) you will need :
* The Lamden Wallet browser extension, available [here](https://chrome.google.com/webstore/detail/lamden-wallet-browser-ext/fhfffofbcgbjjojdnpcfompojdjjhdim)
* Some Mainnet TAU tokens - [available on TXBit](https://txbit.io/)

![sep](./static/rocketSeparator.png ':size=1000')
## Getting Started

1. Access your Lamden Web Wallet and make sure you have some TAU in an account (if not, [buy some at TXBIT here](https://txbit.io/)). Stare longingly at your sweet stack of TAU.
>[!Tip]
> You can refer back to your wallet to see the RocketSwap progress as you progress through this guide to see — the account created, funds transferred or transaction history etc. For now move on, you can check this out when we are done.

2. You will need to connect your wallet with RocketSwap, click the *Connect Wallet* at the bottom left of the screen.  
![sep](./static/Gettingstarted1.png ':size=1000')
3. You will see the **Choose a Login Option** pop-up. We are using the Lamden Web Wallet, also notice in the picture below, beside the Lamden Wallet is Installed with a green tick. Select the *Lamden Wallet* option.  
![sep](./static/Gettingstarted2.png ':size=1000')

4. On the **Lamden Wallet Login** pop-up:  
    A. Select the checkbox *Auto Connect to Lamden Wallet*. (Optional — I did this for future convenience)      
    B. Click *Connect*  
![sep](./static/Gettingstarted3.png ':size=1000')

5. A pop-up will appear, **Linked Account Creation**, which will guide you through the process of creating a linked account with RocketSwap. You can learn about linked accounts by selecting the bottom link *learn about linked accounts*, or click *NEXT* to proceed.

6. Next pop-up screen for **Linked Account Creation**. To speed up this process you can transfer TAU from your account to the RocketSwap account about to be created as one step (instead of manually transferring from your Lamden wallet):  
    A. Select the account containing your TAU you would like to use  
    B. Enter the amount to transfer (in my example I transferred 1 TAU, but you can input however much you would like to transfer to the RocketSwap account)  
    C. Click *Yes* to proceed   
![sep](./static/Gettingstarted5.png ':size=1000')
7. Final pop-up screen for **Linked Account Creation**. Personal choice around security, read the options and make a selection (I selected Yes for convenience). Then click *CREATE ACCOUNT*.   
![sep](./static/Gettingstarted6.png ':size=1000')
8. Now, go and check your Lamden web wallet. You will see an additional account has been created for RocketSwap **AND** you should have funds. Go and enjoy RocketSwap!
>[!Tip]
> **Did you forget** to select transfer funds or you just like doing things the hard way? Keep reading on how to transfer funds to RocketSwap Manually.

![sep](./static/rocketSeparator.png ':size=1000')
## Adding Funds

1. Head over to your **Lamden web wallet** and you will see the RocketSwap account:  
    A. Click the *RocketSwap account address* on the right to copy it  
    B. To initiate a transfer, click the *account name* with your TAU funds you would like send to the RocketSwap account   
    C. On the next screen select *SEND TX*  
![sep](./static/Add_funds1.png ':size=1000')
2. On the **Make a Lamden Transaction** pop-up:  
    A. Check your account (this will default to what you clicked)  
    B. Check stamp limit (default is already populated, this is equivalent in terminology to Ethereum GAS fees — but much cheaper)  
    C. Choose *Function* to Run — Default is transfer and this is the option we need  
    D. Set the amount to the figure you would like to transfer (you will need a small amount remaining for stamps  
    E. In the TO field, paste in the address you copied from the last screen  
    F. REVIEW YOUR TRANSACTION DETAILS!  
    G. Click *NEXT*  
![sep](./static/Add_funds2.png ':size=1000')
3. On the next screen, click *Confirm Transaction*, you should then receive a pop-up notification that the transaction was successful and the transmission cost in stamps. Select *Home*.

4. Select *Accounts* in the top left of your screen in the Lamden wallet. You will see the RocketSwap account now has the TAU deposited.

**Thats it! You have now deposited TAU to your RocketSwap account.**

![sep](./static/rocketSeparator.png ':size=1000')
## Staking
>[!Note]
> A common question that comes up around staking is - If I decide to stake am I locked in?  On Rocketswap you can withdraw at any time.

Lets kick off the staking process:

1. Once you are in RocketSwap:  
    A. Confirm your wallet is connected from the bottom left of the screen and you have funds available (Guide steps above)      
    B. Click the *$RSWP* wording on the top right of the screen  
![sep](./static/Staking1.png ':size=1000')

2. Now let’s get STAKING! Out of the boxes that just popped up we want the box on the left labelled TAU-RSWP.  
    A. The APY - Annual Percentage Yield is pegged to TAU, so they yield you will see is against this however the returns will be in RSWP equivalent  
    B. Enter the amount you would like to stake in TAU. Alternatively you can select the *MAX* button instead of entering an amount to stake your entire wallet, you will notice if you select *MAX* this is not equal to your full wallet amount, this is due to some small fees need to be extracted.  
    C. When you are happy with the amount to be staked, go ahead and click *STAKE*.  


3. The **Confirm Staking** pop-up will appear. Read the conditions of what you are staking and what you are getting in return, then click *STAKE*.
![sep](./static/Staking3.png ':size=1000')
4. You will get a pop-up from your Lamden web wallet requesting approval for RocketSwap to spend your TAU. Read the details and if you want further information click the *what is this?* link at the bottom, otherwise, click *APPROVE*.  
![sep](./static/Staking4.png ':size=1000')
5. Another pop-up from the security conscious people at Lamden asking to Confirm Transaction.  
    A. You can check some of the transaction details here. The amount should be the amount you entered when requesting to stake at Step 2A.  
    B. Click *APPROVE* at the bottom to progress   
![sep](./static/Staking5.png ':size=1000')
6. YOU DID IT! Staking done! You will get a helpful message flash up briefly in the top right of the screen for a few seconds:  

![sep](./static/Staking6.png ':size=1000')
![sep](./static/rocketSeparator.png ':size=1000')
## Performing Swaps

1. The site will open up on the Swap screen, if not, select *Swap* on the top right of the screen.  
![sep](./static/SwapA.png ':size=1000')
2. Lets have a good look at what we are seeing on the Swap screen:  
    A. Top box is what we are swapping FROM — handily labelled “From”  
    B. Next box down is what we swapping TO — also a great label on it, “To”  
    C. The arrow allows us to swap the FROM and TO tokens around. Go ahead try it out and see what it does (no costs involved)  
    D. The TO box also contains the drop down to select the token we would like to swap —go in and select the token you would like to swap. In this example I am going to swap *FROM TAU TO RSWP*  
![sep](./static/Swap1.png ':size=1000')
3. Now that we have selected the token we are swapping to, input how much we would either like to ‘spend’ (input into the FROM box), or how much we would like to ‘buy’ (in the TO box) — the opposite box will auto-magically populate. In this example I am going to populate the TO box with 50 RSWP and it is telling me it will cost me 32.14835475 TAU (in FROM).  
![sep](./static/Swap2A.png ':size=1000')
4. Lets also look at the final box because this is the most important piece of the transaction (see picture below):  
    A. Price — the price you paying for your chosen token (the TO) relative to your base token (the FROM)  
    B. Price Impact (slippage) — this is the most important piece in the entire swap and determines how much slip is likely to occur when you perform your swap. So you will see in the next screen down I did not get my full 50 RSWP, it slipped to 49.5 — this is based on the Liquidity Pool which we will cover in another article. Needless to say, be aware of slippage!  
    C. Fee — as it says, this is the fee for the transaction you can reduce the fee by paying in RSWP (if you have it), and also can be reduced further by staking RSWP (holding it in your tank — another article I will cover)  
    D. Slippage Tolerance — you can set the maximum permissible slip you would allow for the transaction to proceed (all the way to 49%). If the slippage at step 4B is above the tolerance you set you will get this message  
    E. Guaranteed minimum — as the name says, this is a guarantee the amount you receive will not slip below this figure.  
    F. Below this box is a brief history of previous swaps, you can scroll through it by hovering your mouse over it and scrolling with your mouse wheel.  
>[!Tip]
> You can either increase the amount of slippage you will allow OR input a lower swap amount should reduce slippage (but of course you get less of what you want). Please make sure you understand slippage and the consequences before adjusting.  

![sep](./static/Swap2B.png ':size=1000')

5. Once you are happy with all the details, you can click the Swap button. A Confirm Swap pop-up will appear, for you to review the details. Take a moment to read the note, in my example it reads as follows:
    >Output is estimated. You will receive at least 49.14579622 RSWP or the transaction will revert.
    
>[!Warning]
> If you remember above we had a guaranteed minimum of this same amount which is based on our Slippage Tolerance. If you get too stingy on your slippage, the transaction might not go through (as it says ‘revert’). On RocketSwap, this is less of an issue, you loose the tx fee (a few cents — if you did this on Ethereum, you would have just lost $30 at Uniswap). If this occurs, try again — maybe with a larger slippage (read my multiple cautions about large slippage please).

6. Anyway, lets keep moving, click *Launch*.  
![sep](./static/Swap3.png ':size=1000')
    **LIFTOFF!!!** That’s it, you did it! Sit back and watch the rocket lift off! No seriously, RocketSwap has a rocket!  
![sep](./static/Swap6.png ':size=1000')
    The other, less fun, notification will flash up for a few seconds in the top right of your screen — like below:  
 ![sep](./static/Swap5.png ':size=1000')

![sep](./static/rocketSeparator.png ':size=1000')
## Liquidity Pools
>[!Note]
> By adding liquidity you will earn 0.3% of all trades on the pair, proportional to your share of the pool. Some pairs may have some additional bonuses — RSWP for example provides additional benefits(additional RSWP earned) through staking liquidity points.

1. Double check you have **BOTH** TAU and your other token of choice available — so a balance above 0 of both TAU and the other token.


2. Click on *Pools* in the top right of the screen.
![sep](./static/Liquidity1.png ':size=1000')
3. There is a very good chance you will not be the first to create the pool, so we don’t need to create a pool so we will add to a pool that already exists. Click *Add Liquidity*.

4. Click *Select token* dropdown, wait for the list to load then select the token you would like to use (I will use DOUG for the example).

5. From here we can do a few things:  
    A. At the bottom we can see some of the stats for the pair selected — how much is one compared to the other which will determine how much we can add to the pool. As you can see in my example I have a lot more DOUG than TAU and they are a similar price, so I will run out of TAU before I run out of DOUG  
    B. Feel free to click on either MAX and see the result or you can enter a figure into either box to see the result. In my example I am adding 50 TAU and it automatically populates the DOUG as 61  
    C. After you are happy with the amount you are adding to the pool click *Add Supply*   
![sep](./static/Liquidity2.png ':size=1000')
6. Read and verify the details on the popup then click *Confirm Add Supply*.

7. For first time users to liquidity pools there will be a popup from the Lamden Wallet for you to authorise the contract action. (Sorry did not get a screen shot). Read and accept to proceed.

8. All done! You will get a brief message pop up on the top right for a few seconds. Similar to below (except for your chosen pair):  
![sep](./static/Liquidity4.png ':size=1000')
>[!Tip]
> To remove your liquidity, you need to go back to *Add Liquidity*, select your token again. When it loads you will see on the top right of the popup and option to remove. (Have a look at the figure at step 6 and you can see it).

![sep](./static/rocketSeparator.png ':size=1000')
## Creating a Token

1. Use the following code to create an LST-001 Lamden Standard Token.

```python
# LST001
balances = Hash(default_value=0)

# LST002
metadata = Hash()

@construct
def seed():
    # LST001 - MINT SUPPLY to wallet that submits the contract
    balances[ctx.caller] = 1_000_000

    # LST002
    metadata['token_name'] = "MY TOKEN NAME"
    metadata['token_symbol'] = "TKN"
    metadata['operator'] = ctx.caller

# LST002
@export
def change_metadata(key: str, value: Any):
    assert ctx.caller == metadata['operator'], 'Only operator can set metadata!'
    metadata[key] = value

# LST001
@export
def transfer(amount: float, to: str):
    assert amount > 0, 'Cannot send negative balances!'
    assert balances[ctx.caller] >= amount, 'Not enough coins to send!'

    balances[ctx.caller] -= amount
    balances[to] += amount

# LST001
@export
def approve(amount: float, to: str):
    assert amount > 0, 'Cannot send negative balances!'
    balances[ctx.caller, to] += amount

# LST001
@export
def transfer_from(amount: float, to: str, main_account: str):
    assert amount > 0, 'Cannot send negative balances!'
    assert balances[main_account, ctx.caller] >= amount, 'Not enough coins approved to send! You have {} and are trying to spend {}'\
        .format(balances[main_account, ctx.caller], amount)
    assert balances[main_account] >= amount, 'Not enough coins to send!'

    balances[main_account, ctx.caller] -= amount
    balances[main_account] -= amount
    balances[to] += amount

```

2. In the `seed` method make the following changes:
    - change `metadata['token_name']` to the name of your token (keep it short)
    - change `metadata['token_symbol']` to the SYMBOL of your token

3. Upload the smart contract to the Lamden Mainnet using the [Instructions Found here](https://docs.lamden.io/docs/wallet/ide_submit_smartcontract). 
4. Next you can set the logo for your token in the following ways
    - `url logo`: [Call the `change_metadata` method](https://docs.lamden.io/docs/wallet/ide_run_smartcontracts) on your new token contract and set the key `token_logo_url` to the url value (include http(s)://)
    - `picture logos`: You use `png` or `svg` files to set your token logo (max file size 32kb)
        - `svg logo`
            1. [Visit this site](https://base64.guru/converter/encode/image/svg) upload your file and convert it to a base64 string
            2. Copy the base64 string
            3. [Call the `change_metadata` method](https://docs.lamden.io/docs/wallet/ide_run_smartcontracts) on your new token contract and set the key `token_logo_base64_svg` to the base64 string
        - `png logo`
            1. [Visit this site](https://base64.guru/converter/encode/image/png) upload your file and convert it to a base64 string
            2. Copy the base64 string
            3. [Call the `change_metadata` method](https://docs.lamden.io/docs/wallet/ide_run_smartcontracts) on your new token contract and set the key `token_logo_base64_png` to the base64 string
5. The last thing to do is to head over to [Rocketswap and Create Liquidity](https://rocketswap.exchange/#/pool-create/).

### How do I see my tokens in the Lamden Wallet?
All tokens must be manually added to the Lamden Wallet.  To do so follow these simple steps:
1. [Download](https://chrome.google.com/webstore/detail/lamden-wallet-browser-ext/fhfffofbcgbjjojdnpcfompojdjjhdim) the Lamden Wallet into Chrome if you don't have it already. And follow the step-by step-instructions to create a wallet.
2. From the main `accounts` page click the `ACCOUNTS & TOKENS` button
3. From the `What to add` dropdown click `Token`
4. Enter the Tokens Contract Name in the `Contract Name` input box.  If you don't know the contract name you can find it by visiting the token's Swap page on [Rocketswap](https://rocketswap.exchange).  You'll find the contract name in the address bar (contract names always begin with "con_") `https://rocketswap.exchange/#/con_rswp_lst001`
